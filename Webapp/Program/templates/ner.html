<!DOCTYPE html>
<html lang="en">

<head>
    <title>NER Tagger</title>
    <!-- Bootstrap core CSS -->
    <link href="static/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom fonts for this template -->
    <link href="static/vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="static/vendor/simple-line-icons/css/simple-line-icons.css" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic,700italic" rel="stylesheet" type="text/css">

    <!-- Custom styles for this template -->
    <link href="static/css/landing-page.min.css" rel="stylesheet">
</head>

<body>
	<nav class="navbar navbar-light bg-light static-top">
      <div class="container">
        <a class="navbar-brand" href="/">Home</a>
        <a class="btn btn-primary" href="/pos">POS</a>
      </div>
    </nav>

	<header class="masthead text-white text-center">
	    <div class="overlay"></div>
	    <div class="container">
		    <div class="row" id="inputdiv">
	            <div class="col-xl-9 mx-auto">
		            <h1 class="mb-5">NER Tagger</h1>
		        </div>
          		<div class="col-md-10 col-lg-8 col-xl-7 mx-auto">
		            <form action="/ner" method="post">
		            	<div class="form-row">
		                	<div class="col-12 col-md-9 mb-2 mb-md-0">
		                		<textarea id="input1" rows="4" class="form-control form-control-lg" name="in_x" placeholder="Enter text to be tagged...">{{in_val}}</textarea>
			                </div>
			                <div class="col-12 col-md-3">
			                    <input type="submit" class="btn btn-block btn-lg btn-primary" value="Tag!">
			                </div>
			            </div>
		            </form>
		        </div>
		    </div>		
		</div>
	</header>
	<div class="testimonials text-center bg-light" id="outputdiv">
        <div class="col-xl-9 mx-auto">
            <h1 class="mb-5 mt-5">Result</h1>
        </div>
        <div class="col-md-12 mx-auto">
            <p id="fresh" style="display: none;">{{in_val}}</p>
            <p id="jcontainer" style="display: none;">{{jsondata}}</p>
            <table class="">
                <tr id="words" style="font-size: 20px">
                </tr>
                <tr id="labels">
                </tr>
            </table>
        </div>
    </div>
</body>

<script type="text/javascript">
    var empt = document.getElementById("fresh").innerHTML;
    if (empt == null || empt == "") {
        document.getElementById("outputdiv").style.display = 'none';
    }
    else {
        var jvar = document.getElementById("jcontainer").innerHTML;
        var jsvar = JSON.parse(jvar);
        console.log(jsvar);

        var trword = document.getElementById("words");
        var trlabel = document.getElementById("labels");
        var word = [];
        var label = [];
        var x;
        var l = 0;
        for (x in jsvar.words) {
            word.push(trword.insertCell(l));
            word[l].innerHTML = jsvar.words[l];
            label.push(trlabel.insertCell(l));
            label[l].innerHTML = jsvar.labels[l];
            l += 1;
        }
    }

</script>
</html>
